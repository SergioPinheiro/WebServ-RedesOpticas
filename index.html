<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DIJKSTRA</title>
</head>
<body>
    <form action="/profile/index/sendmessage" method="post" enctype="application/x-www-form-urlencoded">
        <div class="upload_form">
            <dt id="message-label"><label class="optional" for="message">Enter Message</label></dt>
            <dd id="message-element">
            <textarea cols="80" rows="50" id="message" name="message">
                {
                    "edges": [
                                {"begin": "A", "end": "B", "len": 5},
                                {"begin": "A", "end": "C", "len": 10},
                                {"begin": "B", "end": "D", "len": 12},
                                {"begin": "B", "end": "E", "len": 9},
                                {"begin": "D", "end": "E", "len": 5}
                            ],
                    
                    "connections": [
                                {"begin":"A", "end": "E"},
                                {"begin":"C", "end": "D"}
                            ]
                }
                </textarea></dd>
            <dt id="id-label">&nbsp;</dt>
            <dd id="id-element">
            <input type="hidden" id="id" value="145198" name="id"></dd>
            <dt id="send_message-label">&nbsp;</dt>
            <dd id="send_message-element">
            <input type="submit" class="sendamessage" value="Send" id="send_message" name="send_message"></dd>
        </div>
        </form>
        <div id="bio"></div>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript">
            function($) {

  'use strict';

  var $btn = $('input.sendamessage');
  var $bio = $('#bio');
  data $('textarea#message').val()

  // register an event
  $btn.click(function(event){
      event.preventDefault();
    // hide the button
    $(this).hide();
    // send the request and get the response
    $bio.load("localhost:8080 $data" , completeFunction);
  });


  // complete function
  function completeFunction(responseText, textStatus, request) {
    // add a border
    $bio.css('border', '1px solid #e8e8e8');
    // uncomment the line below to see the request
     console.log(request);
    // check if there are any errors
    if(textStatus == 'error') {
      // show a relevant message
      $bio.text('An error occurred during your request: ' +  request.status + ' ' + request.statusText);
    }
  }

  // });

})(jQuery);
        </script>
      <!--  <script type="text/javascript">
        $("input.sendamessage").click(function(event) {
        event.preventDefault();
        
        var message = $('textarea#message').val();
        var id      = $('input#id').val();
        url = "http://localhost:8080"
        var posting = $.post(url, message)
        posting.done(function( data ) {
          alert('done');
        });
        });
        -->

        
        
        </script>
</body>
</html>